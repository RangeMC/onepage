<!DOCTYPE html>
<html lang="en">

<head>
    <title>RangeMC | Действие</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" type="text/css" href="/css/style.css">
    <link rel="stylesheet" type="text/css" href="/css/abouts.css">
    <link rel="stylesheet" type="text/css" href="/css/games.css">
    <link rel="stylesheet" type="text/css" href="/css/teams.css">
    <link rel="stylesheet" type="text/css" href="/css/scroll.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/png" href="favicon.png" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.12/css/all.css">
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <script src="/js/jquery-3.5.1.js"></script>
    <script src="/js/sweetalert2.all.min.js"></script>
    <link rel="stylesheet" href="/css/sweetalert2-dark.css">
    <!-- <link rel="stylesheet" href="css/sweetalert2.min.css"> -->
    <!-- Optional: include a polyfill for ES6 Promises for IE11 -->
    <script src="https://cdn.jsdelivr.net/npm/promise-polyfill"></script>
</head>
<script>
    var url = "https://api.minetools.eu/ping/play.rangemc.ovh/25565";
   
   $.getJSON(url, function(r) {
       //data is the JSON string
    if(r.error){
       $('#status').html('Не удалось получить данные о сервере.');
      return false;
    } 
     $('#status').html('Игроков на сервере: '+r.players.online+' из '+r.players.max+', текущая версия - '+r.version.name);
   });
   
  </script>

<body class="d-flex flex-column min-vh-100">

    <a href="#" id="toTop">
        <i class="fas fa-arrow-up"></i>
    </a>

    <a style="text-decoration: none;" onclick="copyServerIP();" class="d-block p-3 text-center text-white bg-primary b4b sticky-top"><div id="status">Загружаем данные о сервере...</div></a>

    <script>
        function copyToClipboard(text) {
            var dummy = document.createElement("textarea");
            document.body.appendChild(dummy);
            dummy.value = text;
            dummy.select();
            document.execCommand("copy");
            document.body.removeChild(dummy);
        }
        
        function copyServerIP() {
            copyToClipboard('play.rangemc.ovh');
            Swal.fire('IP-адрес скопирован!','Чтобы начать игру, скачайте клиент нужной версии. Инструкцию по началу игры можно посмотреть <a href="https://wiki.rangemc.ovh/docs/getting-started/">здесь</a>.','success');
        }
    </script>


    <section>
        <nav class="navbar navbar-expand-lg">
            <div class="container">
                <a class="navbar-brand" href="">RangeMC Vanilla</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                  <span class="navbar-toggler-icon"><i class="fas fa-align-justify"></i></span>
                </button>
                <div class="justify-content-end collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav">
                        <li class="nav-item active">
                            <a class="nav-link" href="#">Главная <span class="sr-only">(current)</span></a>
                        </li>
                        <li class="nav-item">
                            <a data-toggle="modal" data-target="#buyDonate" class="nav-link">Донат</a>
                        </li>
                        <li class="nav-item">
                            <a href="https://wiki.rangemc.ovh" target="_blank" class="nav-link">Вики</a>
                        </li>
                        <li class="nav-item">
                            <a href="https://wiki.rangemc.ovh/docs/getting-started/" target="_blank" class="nav-link">Начало игры</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </section>


<meta http-equiv="refresh" content="5;/">
<section class="container">
    <div class="row">
        <div class="col-md-8">
            <h1 style='color: #F1FFA3;'>СОЖАЛЕЮ!</h1><h3 style='color: #FFEEFF;'>ПРОИЗОШЛА ОШИБКА <br> ПРИ ПОКУПКЕ ДОНАТА</h3>
            <h5 style="color: #D5D5D5;">Через 5 секунд вы будете перенаправлены <br> на главную страницу</h5>
        </div>
        <div class="col-md-4">
            <div class="images">
                <img src="/img/голем.png" width="100%" />
            </div>
        </div>
    </div>
</section>



      
<footer class="mt-auto">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <center>
                      <div class="container-fluid text-center text-md-left">
                          <div class="row">
                          <div class="col-md-6 mt-md-0 mt-3">
                              <h5 class="text-uppercase">Информация</h5>
                              <p>Наш проект не имеет никакого отношения к Mojang AB. Все пожертвования являются добровольными, идут на улучшение проекта и средства за них не могут быть возвращены.</p>
                          </div>
                          <hr class="clearfix w-100 d-md-none pb-3">
                          <div class="col-md-3 mb-md-0 mb-3">
                              <h5 class="text-uppercase">RangeMC</h5>
  
                              <ul class="list-unstyled">
                              <li>
                                  <a href="https://vk.com/rangemc" target="_blank">ВКонтакте</a>
                              </li>
                              <li>
                                  <a href="https://discord.rangemc.ovh" target="_blank">Discord</a>
                              </li>
                              </ul>
                          </div>
                          <div class="col-md-3 mb-md-0 mb-3">
                              <h5 class="text-uppercase">Прочее</h5>
                              <ul class="list-unstyled">
                              <li>
                                  <a href="https://wiki.rangemc.ovh/docs/rules" target="_blank">Правила</a>
                              </li>
                              <li>
                                  <a href="https://github.com/rangemc" target="_blank">GitHub</a>
                              </li>
                              </ul>
                          </div>
                          </div>
                      </div>
                    </center>
                </div>
            </div>
        </div>
    </div>
  </footer>
  
  <script src="/js/main.js"></script>
  <script src="/js/bootstrap.min.js"></script>
  
  
  <script>
    $('.carousel').carousel({
        interval: 3700
    });
  </script>
  
  <!-- Modal Donate -->
<div class="modal fade" id="buyDonate" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Покупка привилегии</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
        <script>
            var TrademcAPI = {};
            (function(self){
                var SCI_ADDRESS = 'https://pay.trademc.org/',
                    API_ADDRESS = 'https://api.trademc.org/',
                    API_VERSION = 3;
                
                var defaultStylesPath = API_ADDRESS + '/widgets/v1/',
                    userStyles = [];
                    
                self.GetOnline = function(params){
                    params = extend(params, {
                        Shop: 1,
                        TextMask: 'Онлайн: {players} из {max_players}. Версия {version}',
                        UIColor: '#333',
                        Styles: defaultStylesPath + 'online.css',
                        PastPlaceID: 'trademc-online'
                    });
                    
                    loadCss(params.Styles);
                    getJSON('getOnline', { shop: params.Shop }, function(data){
                        console.log(params);
                        
                        var message,
                            container = document.getElementById(params.PastPlaceID),
                            blockStatus = '';
                        
                        if(data.response){
                            message = params.TextMask
                                .replace(/{players}/g, data.response.players)
                                .replace(/{max_players}/g, data.response.max_players)
                                .replace(/{version}/g, data.response.version);
                            
                            var perc = parseFloat(data.response.players / data.response.max_players * 100).toFixed(2);
                            
                            blockStatus = '\
                                <div class="trademc-online-progressbar">\
                                    <div class="trademc-online-progressbar-line" style="background-color:' + params.UIColor + '; width:' + perc + '%"></div>\
                                </div>';
                        } else {
                            message = data.error.message;
                        }
                        
                        var html = '\
                            <div style="color:' + params.UIColor + '" class="trademc-online">\
                                <p class="trademc-online-description">' + message + '</p>\
                                ' + blockStatus + '\
                            </div>';
                        container.innerHTML = html;
                    });
                }
                
                self.GetBuyForm = function(params){
                    params = extend(params, {
                        Shop: 1,
                        Title: 'Купить донат',
                        Nickname: 'Введите ваш никнейм',
                        Items: 'Выберите товар',
                        Coupon: 'Введите купон, если есть',
                        Button: 'Продолжить',
                        Success_URL: 'https://trademc.org',
                        Pending_URL: 'https://trademc.org',
                        Fail_URL: 'https://trademc.org',
                        Styles: defaultStylesPath + 'buyform.css',
                        PastPlaceID: 'trademc-buyform'
                    });
                    
                    loadCss(params.Styles);
                    getJSON('getItems', { shop: params.Shop }, function(data){
                        var container = document.getElementById(params.PastPlaceID);
                            
                        if(data.error) {
                            container.innerHTML = data.error.message;
                            return;
                        }
                            
                        var html = '',
                            fieldsList = {};
                        
                        for (var i = 0; i < data.response.categories.length; i++) {
                            var itemsHtml = '';
                            
                            for (var n = 0; n < data.response.categories[i].items.length; n++) {
                                var item = data.response.categories[i].items[n];
                                
                                itemsHtml += '<option value="' + item.id + '">' + item.name + (item.sale ? ' (-' + item.sale.percent + '%)' : '') + ' — ' + item.cost + ' Р</option>';
                                
                                if(item.fields) {
                                    fieldsList[item.id] = '';
                                    
                                    for(var j = 0; j < item.fields.length; j++) {
                                        fieldsList[item.id] += '<input maxlength="64" name="user_fields[' + item.id + '][' + item.fields[j].id + ']" class="trademc-buyform-input" placeholder="' + item.fields[j].placeholder + '">';
                                    }
                                }
                            }
                            
                            if(data.response.categories.length == 1 && data.response.categories[0].id == 0)
                                html += itemsHtml;
                            else
                                html += '<optgroup label="' + data.response.categories[i].name +'">' + itemsHtml + '</optgroup>';
                        }                 
          
                        html = '\
                            <form class="trademc-buyform-form">\
                            <div class="modal-body">\
                                        <label for="form-1" class="text-white text-left"><a class="text-dark">' + params.Nickname + '</a></label>\
                                        <input id="form-1" name="buyer" class="form-control" placeholder="' + params.Nickname + '" required>\
                                        <br>\
                                            <label for="form-2" class="text-white text-left"><a class="text-dark">Выберите донат</a></label>\
                                            <select id="form-2" class="form-control" name="items" required>\
                                                <option disabled selected>' + params.Items + '</option>\
                                                ' + html + '\
                                            </select>\
                                        <br>\
                                        <div class="trademc-buyform-userfields"></div>\
                                        <label for="form-3" class="text-white text-left"><a class="text-dark">' + params.Coupon + '</a></label>\
                                        <input id="form-3" name="coupon" class="form-control" placeholder="' + params.Coupon + '">\
                                    </div>\
                                    <div class="modal-footer">\
                                        <button type="submit" class="btn btn-primary buyform-button">' + params.Button + '</button>\
                                        <div class="buyform-error"></div>\
                                    </div>\
                                </form>\
                            </div>\
                        </div>\
                    </div>\
                </div>';
                        
                        container.innerHTML = html;
                        
                        addEvent('.trademc-buyform-select > select', 'change', function(){
                            var userFields = this.parentNode.parentNode.querySelector('.trademc-buyform-userfields');
                            userFields.innerHTML = '';
                            
                            var id = this.value;
                            if(fieldsList.hasOwnProperty(id))
                                userFields.innerHTML = fieldsList[id];
                        });
                        addEvent('.trademc-buyform-form', 'submit', function(e){
                            e = e || window.event;
                            e.preventDefault();
                            
                            var form = this,
                                button = form.querySelector('.buyform-button'),
                                errorBlock = form.querySelector('.buyform-error');
                            
                            if(button.classList.contains('load'))
                                return;
                                
                            button.classList.add('load');
                            errorBlock.innerHTML = '';
                            
                            getJSON('buyItems', serialize(form), function(data){
                                button.classList.remove('load');
                                
                                if(data.error){
                                    errorBlock.innerHTML = data.error.message;
                                    return;
                                }
                                
                                var formParams = {
                                    success_url: params.Success_URL,
                                    pending_url: params.Pending_URL,
                                    fail_url: params.Fail_URL,
                                    cart_id: data.response.cart_id
                                };
                                
                                var body = document.getElementsByTagName("body")[0];
                                var form = document.createElement('form');
                                form.method = 'get';
                                form.style.display = 'none';
                                form.action = SCI_ADDRESS;
                                
                                for(var key in formParams) {
                                    if (!formParams.hasOwnProperty(key)) continue;
                                    form.innerHTML += '<input type="hidden" name="' + key + '" value="' + formParams[key] + '">';
                                }
                                
                                body.appendChild(form);
                                form.submit();
                            });
                        });
                        
                        function addEvent(element, event, callback){
                            element = document.querySelectorAll('#' + params.PastPlaceID + ' ' + element);
                            for (var i = 0; i < element.length; i++){
                                element[i].addEventListener(event, callback);
                            }
                        }
                    });
                }
                
                function getJSON(method, params, callback){
                    params.v = API_VERSION;
                    var stringParams = Object.keys(params).map(function(key){ 
                        return key + '=' + encodeURIComponent(params[key]); 
                    }).join('&');
                    
                    var XHR = window.XDomainRequest || window.XMLHttpRequest;
                    var xhr = new XHR();
                    
                    xhr.open('GET', API_ADDRESS + 'shop.' + method + '?' + stringParams, true);
                    xhr.onload = function(){
                        var answer = JSON.parse(xhr.responseText);
                        callback(answer);
                    }
                    xhr.onerror = function() {
                        callback({ error: { message: "Ошибка." } });
                    }
                    xhr.send();
                }
                
                function extend(target, source) {
                    if(!target)
                        return source;
                    
                    for (var key in source) {
                        if (typeof target[key] === 'undefined') {
                            target[key] = source[key];
                        }
                    }
                    
                    return target;
                }
                
                function loadCss(path){
                    if(userStyles.indexOf(path) != -1)
                        return;
                    
                    var style = document.createElement('link');
                    style.href = path;
                    style.type = 'text/css';
                    style.rel = 'stylesheet';
                    style.async = true;
                    document.getElementsByTagName('head')[0].appendChild(style);
                    
                    userStyles.push(path);
                }
                
                function serialize(form) {
                    var opt = null, result = {};
                    form = form || document.forms[0];
                
                    for (var i = 0; i < form.elements.length; ++i) {
                        var el = form.elements[i];
                        switch (el.tagName) {
                            case 'INPUT': {
                                switch (el.type.toLowerCase()) {
                                    case 'checkbox':
                                    case 'radio':
                                        if (el.checked)
                                            result[el.name] = el.value;
                                        break;
                                        
                                    case 'text':
                                    case 'password':
                                    case 'hidden':
                                        result[el.name] = el.value;
                                        break;
                                }
                                break;
                            }
                            case 'SELECT': {
                                opt = el.options[el.selectedIndex];
                                result[el.name] = opt.value || opt.innerText;
                                break;
                            }
                            case 'TEXTAREA': {
                                result[el.name] = el.value;
                                break;
                            }
                        }
                    }
                    
                    return result;
                }
                
            })(TrademcAPI);
        </script>
        <div id="trademc-buyform"></div>
        <script>TrademcAPI.GetBuyForm({"Shop":"66900","Title":"Купить донат","Nickname":"Введите ваш никнейм","Item":"Выберите товар","Coupon":"Введите купон, если есть","Button":"Продолжить","Success_URL":"https://rangemc.ovh/donatesuccess.html","Pending_URL":"https://rangemc.ovh/donatepending.html","Fail_URL":"https://rangemc.ovh/donatefailure.html","PastPlaceID":"trademc-buyform"});</script>
        </div>
      </div>
</div>
  
  
  
  
  
  
  <script>
    function scrollTo(to, duration = 700) {
        const
            element = document.scrollingElement || document.documentElement,
            start = element.scrollTop,
            change = to - start,
            startDate = +new Date(),
            // t = current time
            // b = start value
            // c = change in value
            // d = duration
            easeInOutQuad = function(t, b, c, d) {
                t /= d / 2;
                if (t < 1) return c / 2 * t * t + b;
                t--;
                return -c / 2 * (t * (t - 2) - 1) + b;
            },
            animateScroll = function() {
                const currentDate = +new Date();
                const currentTime = currentDate - startDate;
                element.scrollTop = parseInt(easeInOutQuad(currentTime, start, change, duration));
                if (currentTime < duration) {
                    requestAnimationFrame(animateScroll);
                } else {
                    element.scrollTop = to;
                }
            };
        animateScroll();
    }
    document.addEventListener('DOMContentLoaded', function() {
        let btn = document.querySelector('#toTop');
        window.addEventListener('scroll', function() {
            // Если прокрутили дальше 599px, показываем кнопку
            if (pageYOffset > 100) {
                btn.classList.add('show');
                // Иначе прячем
            } else {
                btn.classList.remove('show');
            }
        });
        // При клике прокручиываем на самый верх
        btn.onclick = function(click) {
            click.preventDefault();
            scrollTo(0, 400);
        }
    });
  </script>
  </body>
  
  </html>